<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title> 东山郎的博客</title>
<link type="text/css" rel="stylesheet" href="../MainPageFiles/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="../MainPageFiles/bundle-darkgreentrip.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="../MainPageFiles/bundle-darkgreentrip-mobile.css">
<script async="" src="../MainPageFiles/analytics.js">
</script><script src=../MainPageFiles/jquery-2.js"></script>
<script type="text/javascript">var currentBlogApp = 'zfyouxi', cb_enable_mathjax=false;var isLogined=false;</script>
<script src=../MainPageFiles/blog-common.js" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" ><img id="blogLogo" src="../MainPageFiles/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" >东山郎</a></h1>
<h2></h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="../MainPage.html">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="../MainPage.html">首页</a></li>
<li></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="../MainPage.html">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="../MainPage.html">留白</a>

</li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="../MainPage.htm">留白</a></li>
</ul>
		<div class="blogStats">
			

			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		

<!--done-->


<div class="entrylist">
	
	<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2">SVN常用命令（检出、更新、删除、上传提交等）</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><div id="article_content" class="article_content">		
<article>
		<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog" data-mod="popu_307" data-dsm="post">
                  
						<div class="htmledit_views">
                
<div id="article_content" class="article_content csdn-tracking-statistics tracking-click">
<p>
<span><a href="http://subversion.apache.org/" rel="nofollow" style="background:transparent;color:rgb(0,0,255);font-weight:400;" target="_blank">SVN</a></span>（Subversion）是一个自由、开源的项目源代码版本控制工具。目前，绝大多数开源软件和企业代码管理，都使用SVN作为代码版本管理软件。</p>
<p>
Subversion将文件存放在中心版本库里，这个版本库很像一个普通的文件服务器。不同的是，它可以记录每一次文件和目录的修改情况，这样就可以在需要的回滚时，将数据恢复到以前的版本，并可以查看数据的更改细节。<br></p>
<p>
SVN 官方网址：<a href="http://subversion.apache.org/" rel="nofollow" style="background:transparent;color:rgb(0,0,255);" target="_blank">Apache Subversion</a></p>
<p>
SVN 服务器配置：<a href="http://wenku.baidu.com/view/b0d5421ba76e58fafab00337.html?st=1" rel="nofollow" style="background:transparent;color:rgb(0,0,255);" target="_blank">安装SVN服务器</a></p>
<p>
<span><br></span></p>
<p>
<span>一、 SVN常用命令</span></p>
<p>
1、将文件checkout到本地目录<br>
svn checkout path（path是服务器上的目录）<br>
简写：svn co<br><br>
2、往版本库中添加新的文件<br>
svn add file<br><br>
3、将改动的文件提交到版本库<br>
svn commit -m “LogMessage” [-N] [--no-unlock] PATH(如果选择了保持锁，就使用–no-unlock开关)<br>
简写：svn ci<br><br>
4、加锁/解锁<br>
svn lock -m “LockMessage” [--force] PATH<br>
svn unlock PATH<br><br>
5、更新到某个版本<br>
svn update -r m path<br>
简写：svn up<br><br>
6、查看文件或者目录状态<br>
1）svn status path（目录下的文件和子目录的状态，正常状态不显示）<br>
2）svn status -v path(显示文件和子目录状态)<br>
简写：svn st<br><br>
7、删除文件<br>
svn delete path -m “delete test fle”<br>
简写：svn (del, remove, rm)<br><br>
8、查看日志<br>
svn log path<br><br>
9、查看文件详细信息<br>
svn info path<br><br>
10、比较差异<br>
svn diff path(将修改的文件与基础版本比较)<br>
svn diff -r m:n path(对版本m和版本n比较差异)<br>
简写：svn di<br><br>
11、将两个版本之间的差异合并到当前文件<br>
svn merge -r m:n path<br><br>
12、SVN 帮助<br>
svn help<br>
svn help ci</p>
<p>
&nbsp;</p>
<p>
<br></p>
<p>
<span>二、&nbsp;SVN不常用命令</span><br>
13、版本库下的文件和目录列表<br><span style="color:rgb(0,0,0);">&nbsp;&nbsp;svn list path&nbsp; &nbsp; 显示path目录下的所有属于版本库的文件和目录简写：svn ls</span><br><br>
14、创建纳入版本控制下的新目录<br><span style="color:rgb(0,0,0);">svn mkdir: 创建纳入版本控制下的新目录。</span><br><span style="color:rgb(0,0,0);">用法:&nbsp;</span><br><span style="color:rgb(0,0,0);">1、mkdir PATH...</span><br><span style="color:rgb(0,0,0);">每一个以工作副本 PATH 指定的目录，都会创建在本地端，并且加入新增调度，以待下一次的提交。</span><br><span style="color:rgb(0,0,0);">2、mkdir URL... 创建版本控制的目录。&nbsp;</span><br><span style="color:rgb(0,0,0);">每个以URL指定的目录，都会透过立即提交于仓库中创建。在这两个情况下，所有的中间目录都必须事先存在。<br></span><br>
15、恢复本地修改<br><span style="color:rgb(0,0,0);">svn revert: 恢复原始未改变的工作副本文件 (恢复大部份的本地修改)。</span><br><span style="color:rgb(0,0,0);">用法: revert PATH... 注意: 本子命令不会存取网络，并且会解除冲突的状况。但是它不会恢复被删除的目录<br></span><br>
16、代码库URL变更<br><span style="color:rgb(0,0,0);">svn switch (sw): 更新工作副本至不同的URL。</span><br><span style="color:rgb(0,0,0);">用法:&nbsp;</span><br><span style="color:rgb(0,0,0);">1、switch URL [PATH]&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;</span><br><span style="color:rgb(0,0,0);">更新你的工作副本，映射到一个新的URL，其行为跟“svn update”很像，也会将&nbsp; &nbsp;&nbsp; &nbsp;服务器上文件与本地文件合并。这是将工作副本对应到同一仓库中某个分支或者标记的方法。&nbsp;</span><br><span style="color:rgb(0,0,0);">2、switch --relocate FROM TO [PATH...]&nbsp; &nbsp;</span><br><span style="color:rgb(0,0,0);">改
写工作副本的URL元数据，以反映单纯的URL上的改变。当仓库的根URL变动&nbsp; 
&nbsp;&nbsp;&nbsp;(比如方案名或是主机名称变动)，但是工作副本仍旧对映到同一仓库的同一目录时使用&nbsp; 
&nbsp;&nbsp;&nbsp;这个命令更新工作副本与仓库的对应关系。<br></span><br>
17、解决冲突<br><span style="color:rgb(0,0,0);">svn resolved: 移除工作副本的目录或文件的“冲突”状态。</span><br><span style="color:rgb(0,0,0);">用法: resolved PATH... 注意: 本子命令不会依语法来解决冲突或是移除冲突标记；它只是移除冲突的相关文件，然后让 PATH 可以再次提交。<br></span><br>
18、输出指定文件或URL的内容。<br><span style="color:rgb(0,0,0);">svn cat 目标[@版本]...如果指定了版本，将从指定的版本开始查找。 svn cat -r PREV filename &gt; filename (PREV 是上一版本,也可以写具体版本号,这样输出结果是可以提交的）</span><span style="color:rgb(0,0,0);"><br></span>&nbsp;</p>
<p>
<br></p>
<p>
<span>三、&nbsp;SVN其它命令</span></p>
<p>
虽然不像本章先前讨论过的那些命令那么常用，但是有时你也需要这些命令。&nbsp;<br><br>
svn cleanup<br>
当Subversion修改你的工作副本时（或者任何在.svn中的信息），它尝试尽可能做到安全。在改变一个工作副本前，Subversion把它的意
 图写到一个日志文件中。接下来它执行日志文件中的命令来应用要求的修改。最后，Subversion删除日志文件。从架构上来说，这与一个日志文件系统
 （journaled filesystem）类似。如果一个 
Subversion操作被打断（例如，进程被杀掉了，或机器当掉了）了，日志文件仍在硬盘上。重新执行日志文件，Subversion可以完成先前开始
 的操作，这样你的工作副本能回到一个可靠的状态。&nbsp;<br><br>
以下是svn cleanup所做的：它搜索你的工作副本并执行所有遗留的日志，在这过程中删除锁。如果Subversion曾告诉你你的工作副本的一部分被“锁定”了，那么你应该执行这个命令。另外， svn status会在锁定的项前显示L。&nbsp;<br><br>
$ svn status<br>
L&nbsp; &nbsp; somedir<br>
M&nbsp;&nbsp;&nbsp;somedir/foo.c&nbsp;<br><br>
$ svn cleanup<br>
$ svn status<br>
M&nbsp; &nbsp;&nbsp; &nbsp;somedir/foo.c<br><br>
svn import<br>
使用svn import是把未版本化的文件树复制到资料库的快速办法，它需要创建一个临时目录。&nbsp;<br><br>
$ svnadmin create /usr/local/svn/newrepos<br>
$ svn import mytree file:///usr/local/svn/newrepos/some/project<br>
Adding&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mytree/foo.c<br>
Adding&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mytree/bar.c<br>
Adding&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mytree/subdir<br>
Adding&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mytree/subdir/quux.h<br><br>
Committed revision 1.<br><br>
上面的例子把在some/project目录下mytree目录的内容复制到资料库中。&nbsp;<br><br>
$ svn list file:///usr/local/svn/newrepos/some/project<br>
bar.c<br>
foo.c<br>
subdir/<br><br>
注意在导入完成后，原来的树没有被转化成一个工作副本。为了开始工作，你仍然需要svn checkout这个树的一个新的工作副本。</p>
<p>
<br></p>
<p>
<br></p>
<p>
<span>四、SVN 常用命令一览表</span></p>
<p>
</p>
<table style="border-collapse:collapse;border-spacing:0px;background:rgb(238,238,238);" cellspacing="0" cellpadding="5" border="1"><colgroup><col><col><col></colgroup><tbody><tr><td><span>命令</span></td>
<td><span>功能</span></td>
<td><span>使用格式</span></td>
</tr><tr><td><span><span style="font-weight:400;color:rgb(255,0,0);">checkout</span></span></td>
<td>检出</td>
<td><span><span style="font-weight:400;">svn&nbsp;&nbsp;co&nbsp;&nbsp;URL</span></span></td>
</tr><tr><td rowspan="2"><span><span style="font-weight:400;color:rgb(255,0,0);">up</span></span></td>
<td rowspan="2">更新到当前URL的末端</td>
<td rowspan="2"><span>svn&nbsp;&nbsp;up</span></td>
</tr><tr><td><span><span style="font-weight:400;color:rgb(255,0,0);">switch</span></span></td>
<td>更新到某一tag/branch</td>
<td><span>svn&nbsp;&nbsp;switch&nbsp;&nbsp;(tag/分支)URL</span></td>
</tr><tr><td rowspan="2"><span><span style="font-weight:400;color:rgb(255,0,0);">add</span></span></td>
<td rowspan="2">增加</td>
<td rowspan="2"><span>svn&nbsp;&nbsp;add&nbsp;&nbsp;文件名</span></td>
</tr><tr><td rowspan="2"><span><span style="font-weight:400;color:rgb(255,0,0);">rm</span></span></td>
<td>删除文件</td>
<td><span>svn&nbsp; rm&nbsp;文件名</span></td>
</tr><tr><td>删除目录</td>
<td><span>svn&nbsp;&nbsp;rm&nbsp;目录名</span></td>
</tr><tr><td rowspan="4"><span><span style="font-weight:400;color:rgb(255,0,0);">diff</span></span></td>
<td>与base版本（最后检出或者更新到的版本）对比</td>
<td><span>svn&nbsp; diff</span></td>
</tr><tr><td>与版本库中最新版本对比</td>
<td><span>svn&nbsp;&nbsp;diff&nbsp;&nbsp;-r&nbsp;&nbsp;head</span></td>
</tr><tr><td>当前工作副本，两个版本之间对比</td>
<td><span>svn&nbsp;&nbsp;diff&nbsp;&nbsp;-r&nbsp;&nbsp;reversion1:reversion2</span></td>
</tr><tr><td>版本库中任意两个tag做对比</td>
<td><span>svn&nbsp;&nbsp;&nbsp;diff&nbsp;&nbsp;&nbsp;&nbsp;(tag1)URL&nbsp;&nbsp;&nbsp;&nbsp;(tag2)URL</span></td>
</tr><tr><td><span><span style="font-weight:400;color:rgb(255,0,0);">ci</span></span></td>
<td>提交</td>
<td><span>svn ci -m "commit log"</span></td>
</tr><tr><td rowspan="5"><span><span style="font-weight:400;color:rgb(255,0,0);">log</span></span></td>
<td rowspan="2">查看当前工作副本log</td>
<td rowspan="2"><span>svn&nbsp; log</span></td>
</tr><tr><td>只查看指定版本的log</td>
<td><span>svn&nbsp;&nbsp;log&nbsp;&nbsp;-r</span></td>
</tr><tr><td>打印log所有附加信息</td>
<td><span>svn&nbsp;&nbsp;log&nbsp;&nbsp;-v</span></td>
</tr><tr><td>查看当前tag/branch版本详情</td>
<td><span>svn&nbsp; log --stop-on-copy -v</span></td>
</tr><tr><td><span><span style="font-weight:400;color:rgb(255,0,0);">info</span></span></td>
<td>查看当前工作副本所在URL</td>
<td><span>svn&nbsp;&nbsp;info</span></td>
</tr><tr><td rowspan="2"><span><span style="font-weight:400;color:rgb(255,0,0);">status</span></span></td>
<td>查看工作副本的状态</td>
<td><span>svn st</span></td>
</tr><tr><td>查看文件的taglist</td>
<td><span>svn命令不支持，可执行cs taglist</span></td>
</tr><tr><td rowspan="4"><span><span style="font-weight:400;color:rgb(255,0,0);">tag</span></span></td>
<td rowspan="2">新增tag</td>
<td rowspan="2"><span>svn cp .&nbsp;（tag）URL</span></td>
</tr><tr><td>删除tag</td>
<td><span>svn rm&nbsp;（tag）URL -m "commit log"</span></td>
</tr><tr><td>覆盖已经存在的tag</td>
<td><span>不支持</span></td>
</tr><tr><td rowspan="12"><span><span style="font-weight:400;color:rgb(255,0,0);">分支开发</span></span></td>
<td>创建branch</td>
<td><span>svn&nbsp;&nbsp;cp&nbsp;&nbsp;（基线版本）URL&nbsp;（分支）URL&nbsp;&nbsp;-m "commit log"</span></td>
</tr><tr><td>删除branch</td>
<td><span>svn rm&nbsp;（分支）URL&nbsp;&nbsp;&nbsp;-m "commit log"</span></td>
</tr><tr><td rowspan="5">同步</td>
<td><span>svn co&nbsp;（主干）URL</span></td>
</tr><tr><td><span>cd ~/wc</span></td>
</tr><tr><td><span>svn merge&nbsp;（主干）URL&nbsp;（待同步tag）URL</span></td>
</tr><tr><td><span>svn ci -m "commit log"</span></td>
</tr><tr><td><span>svn cp&nbsp;（主干）URL&nbsp;（以_PD_BL_MAIN结尾的tag）URL -m"commit log"</span></td>
</tr><tr><td rowspan="5">合并</td>
<td><span>svn co&nbsp;（合并目标）URL</span></td>
</tr><tr><td><span>cd ~/wc</span></td>
</tr><tr><td><span>svn merge&nbsp;（基线版本tag）URL&nbsp;&nbsp;（上线tag）URL</span></td>
</tr><tr><td><span>svn ci -m "commit log"</span></td>
</tr><tr><td><span>svn cp&nbsp;（合并目标）URL&nbsp;（上线tag_MERGE_的tag对应）URL -m"commit log"</span></td>
</tr></tbody></table><br><p>
<br></p>
<p>
<br></p>
<p>
<span><span style="font-weight:400;color:rgb(255,0,0);">参考推荐：</span></span></p>
<p>
<a href="http://blog.csdn.net/sunboy_2050/article/details/7529022" rel="nofollow" style="background:transparent;color:rgb(202,12,22);" target="_blank"><span style="color:rgb(255,153,0);">Git 常用命令详解</span></a><br></p>
<p>
<a href="http://blog.csdn.net/sunboy_2050/article/details/7527877" rel="nofollow" style="background:transparent;color:rgb(202,12,22);" target="_blank"><span style="color:rgb(255,153,0);">Git 版本管理工具</span></a><br></p>
<p>
<span style="background:transparent;color:rgb(255,153,0);"><a href="http://blog.csdn.net/sunboy_2050/article/details/7529841" rel="nofollow" style="background:transparent;color:rgb(202,12,22);" target="_blank">Git
 常用命令速查表</a></span><br></p>
<div><br></div>
</div>
            </div>
                </div>
				
        	</article>
 
</div></div>
<div id="MySignature"></div>
<div class="clear"></div>



		</div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=187416,cb_entryId=5413442,cb_blogApp=currentBlogApp,cb_blogUserGuid='1cc61568-c8e6-e311-8d02-90b11c0b17d6',cb_entryCreatedDate='2016/4/20 16:57:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
	
</div><!--end: topics 文章、评论容器-->
	
	
	<p>
	
	</p>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div id="blog-calendar" style="">
<table id="blogCalendar" class="Cal" title="Calendar" cellspacing="0" cellpadding="0">
	<tbody><tr>
	<td colspan="7">
		<div id="show_time">  
<script>  
//这里代码多了几行，但是不会延迟显示，速度比较好，格式可以自定义，是理想的时间显示
setInterval("fun(show_time)",1);
function fun(timeID){ 
var date = new Date();  //创建对象  
var y = date.getFullYear();     //获取年份  
var m =date.getMonth()+1;   //获取月份  返回0-11  
var d = date.getDate(); // 获取日  
var w = date.getDay();   //获取星期几  返回0-6   (0=星期天) 
var ww = ' 星期'+'日一二三四五六'.charAt(new Date().getDay()) ;//星期几
var h = date.getHours();  //时
var minute = date.getMinutes()  //分
var s = date.getSeconds(); //秒
var sss = date.getMilliseconds() ; //毫秒
if(m<10){
m = "0"+m;
}
if(d<10){
d = "0"+d;
}
if(h<10){
h = "0"+h;
}
 
if(minute<10){
minute = "0"+minute;
}
 
if(s<10){
s = "0"+s;
}
 
if(sss<10){
sss = "00"+sss;
}else if(sss<100){
sss = "0"+sss;
}
document.getElementById(timeID.id).innerHTML =  y+"-"+m+"-"+d+"   "+h+":"+minute+":"+s+ww;
  }
</script>  
</div>
</table>
</div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block"></div><div id="sidebar_categories">
<div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
<h3 class="catListTitle">随笔档案</h3>
<iframe name="content_iframe" scrolling="auto" height="800" marginwidth=0 marginheight=0 width=100%  src="../common_function.html"  frameborder=0  >
</iframe> 

</div>

</div>


<div id="sidebar_topviewedposts" class="sidebar-block">

</div>
<script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div>
		<!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2018 dongshanlang
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



</body></html>